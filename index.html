<!DOCTYPE html>
<html lang="en">

<head>
  <title>Prayers in Latent Space</title>
  <script src="secrets.js?v=20251128-5"></script>
  <script src="umap-js.js?v=20251128-5"></script>
  <link rel="stylesheet" type="text/css" href="style.css?v=20251128-8">
  <meta charset="utf-8" />

</head>

<body>
  <div id="preload">
    <div class="preload-card">
      <div class="preload-title">Prayers in Latent Space</div>
      <div class="preload-body">
        Embed your wish.<br/>
        Let it route towards the most aligned deity in a latent space that remembers.
      </div>
      <div class="preload-hint">loadingâ€¦</div>
    </div>
  </div>
  <main>
    <div id="wish-input">
      <input id="wishText" type="text" placeholder="What do you wish for" style="width: 340px;" />
      <button id="submitWish">Submit</button>
    </div>
    <div id="controls">
      <label for="powerWeight">Power vs Domain</label>
      <input type="range" id="powerWeight" name="powerWeight" min="0" max="1" value="0.3" step="0.05">
      <span id="powerWeightValue">power 0.30 / domain 0.70</span>
    </div>
    <div id="canvas-container" style="position: relative; width: 100%; height: 620px;"></div>
    <div id="tooltip" style="position:absolute; pointer-events:none; display:none; background: rgba(10,10,20,0.9); color:#fff; border:1px solid rgba(150,150,200,0.5); padding:8px; border-radius:6px; max-width:260px; font-size:12px;"></div>
    <div id="explain-card" style="position:absolute; pointer-events:auto; display:none; background: rgba(15,15,30,0.95); color:#fff; border:1px solid rgba(170,170,220,0.5); padding:10px 12px; border-radius:8px; max-width:320px; font-size:12px; box-shadow:0 6px 22px rgba(0,0,0,0.4);"></div>
  </main>
  <!-- Firebase (compat for simplicity) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
  <script src="expandedEntities.js?v=20251128-5"></script>
  <script type="module" src="sketch.js?v=20251128-5"></script>
  
  <!-- Fallback for debugging -->
  <script>
    window.addEventListener('load', () => {
      console.log('Page loaded. Firebase available:', typeof firebase !== 'undefined');
      console.log('Submit button:', document.getElementById('submitWish'));
    });
  </script>
</body>

</html>